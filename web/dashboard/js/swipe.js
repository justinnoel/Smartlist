!function (e) { "function" == typeof define && define.amd && define.amd.jQuery ? define(["jquery"], e) : e(jQuery) }(function (e) { var n = "left", t = "right", r = "up", i = "down", l = "in", o = "out", a = "none", u = "auto", s = "swipe", c = "pinch", p = "tap", h = "doubletap", f = "longtap", d = "horizontal", g = "vertical", w = "all", v = 10, T = "start", b = "move", E = "end", S = "cancel", m = "ontouchstart" in window, y = window.navigator.msPointerEnabled && !window.navigator.pointerEnabled, O = window.navigator.pointerEnabled || window.navigator.msPointerEnabled, x = "TouchSwipe"; function M(M, D) { D = e.extend({}, D); var P = m || O || !D.fallbackToMouseEvents, L = P ? O ? y ? "MSPointerDown" : "pointerdown" : "touchstart" : "mousedown", R = P ? O ? y ? "MSPointerMove" : "pointermove" : "touchmove" : "mousemove", k = P ? O ? y ? "MSPointerUp" : "pointerup" : "touchend" : "mouseup", A = P ? null : "mouseleave", I = O ? y ? "MSPointerCancel" : "pointercancel" : "touchcancel", U = 0, N = null, j = 0, H = 0, _ = 0, Q = 1, C = 0, F = 0, X = null, Y = e(M), q = "start", V = 0, W = {}, $ = 0, z = 0, G = 0, Z = 0, B = 0, J = null, K = null; try { Y.bind(L, ee), Y.bind(I, re) } catch (n) { e.error("events not supported " + L + "," + I + " on jQuery.swipe") } function ee(l) { if (!0 !== Y.data(x + "_intouch") && !(e(l.target).closest(D.excludedElements, Y).length > 0)) { var o, a = l.originalEvent ? l.originalEvent : l, u = a.touches, s = u ? u[0] : a; return q = T, u ? V = u.length : !1 !== D.preventDefaultEvents && l.preventDefault(), U = 0, N = null, F = null, j = 0, H = 0, _ = 0, Q = 1, C = 0, X = function () { var e = {}; return e[n] = Le(n), e[t] = Le(t), e[r] = Le(r), e[i] = Le(i), e }(), ye(), Me(0, s), !u || V === D.fingers || D.fingers === w || fe() ? ($ = Ae(), 2 == V && (Me(1, u[1]), H = _ = ke(W[0].start, W[1].start)), (D.swipeStatus || D.pinchStatus) && (o = ae(a, q))) : o = !1, !1 === o ? (ae(a, q = S), o) : (D.hold && (K = setTimeout(e.proxy(function () { Y.trigger("hold", [a.target]), D.hold && (o = D.hold.call(Y, a, a.target)) }, this), D.longTapThreshold)), xe(!0), null) } } function ne(s) { var c = s.originalEvent ? s.originalEvent : s; if (q !== E && q !== S && !Oe()) { var p, h = c.touches, f = De(h ? h[0] : c); if (z = Ae(), h && (V = h.length), D.hold && clearTimeout(K), q = b, 2 == V && (0 == H ? (Me(1, h[1]), H = _ = ke(W[0].start, W[1].start)) : (De(h[1]), _ = ke(W[0].end, W[1].end), W[0].end, W[1].end, F = Q < 1 ? o : l), Q = function (e, n) { return (n / e * 1).toFixed(2) }(H, _), C = Math.abs(H - _)), V === D.fingers || D.fingers === w || !h || fe()) { if (function (e, l) { if (!1 === D.preventDefaultEvents) return; if (D.allowPageScroll === a) e.preventDefault(); else { var o = D.allowPageScroll === u; switch (l) { case n: (D.swipeLeft && o || !o && D.allowPageScroll != d) && e.preventDefault(); break; case t: (D.swipeRight && o || !o && D.allowPageScroll != d) && e.preventDefault(); break; case r: (D.swipeUp && o || !o && D.allowPageScroll != g) && e.preventDefault(); break; case i: (D.swipeDown && o || !o && D.allowPageScroll != g) && e.preventDefault() } } }(s, N = function (e, l) { var o = function (e, n) { var t = e.x - n.x, r = n.y - e.y, i = Math.atan2(r, t), l = Math.round(180 * i / Math.PI); l < 0 && (l = 360 - Math.abs(l)); return l }(e, l); return o <= 45 && o >= 0 ? n : o <= 360 && o >= 315 ? n : o >= 135 && o <= 225 ? t : o > 45 && o < 135 ? i : r }(f.start, f.end)), U = function (e, n) { return Math.round(Math.sqrt(Math.pow(n.x - e.x, 2) + Math.pow(n.y - e.y, 2))) }(f.start, f.end), j = Re(), function (e, n) { n = Math.max(n, Pe(e)), X[e].distance = n }(N, U), (D.swipeStatus || D.pinchStatus) && (p = ae(c, q)), !D.triggerOnTouchEnd || D.triggerOnTouchLeave) { var v = !0; if (D.triggerOnTouchLeave) { var T = function (n) { var t = (n = e(n)).offset(); return { left: t.left, right: t.left + n.outerWidth(), top: t.top, bottom: t.top + n.outerHeight() } }(this); v = function (e, n) { return e.x > n.left && e.x < n.right && e.y > n.top && e.y < n.bottom }(f.end, T) } !D.triggerOnTouchEnd && v ? q = oe(b) : D.triggerOnTouchLeave && !v && (q = oe(E)), q != S && q != E || ae(c, q) } } else ae(c, q = S); !1 === p && ae(c, q = S) } } function te(e) { var n = e.originalEvent ? e.originalEvent : e, t = n.touches; if (t) { if (t.length && !Oe()) return G = Ae(), Z = event.touches.length + 1, !0; if (t.length && Oe()) return !0 } return Oe() && (V = Z), z = Ae(), j = Re(), ce() || !se() ? ae(n, q = S) : D.triggerOnTouchEnd || 0 == D.triggerOnTouchEnd && q === b ? (!1 !== D.preventDefaultEvents && e.preventDefault(), ae(n, q = E)) : !D.triggerOnTouchEnd && Ee() ? ue(n, q = E, p) : q === b && ae(n, q = S), xe(!1), null } function re() { V = 0, z = 0, $ = 0, H = 0, _ = 0, Q = 1, ye(), xe(!1) } function ie(e) { var n = e.originalEvent ? e.originalEvent : e; D.triggerOnTouchLeave && ae(n, q = oe(E)) } function le() { Y.unbind(L, ee), Y.unbind(I, re), Y.unbind(R, ne), Y.unbind(k, te), A && Y.unbind(A, ie), xe(!1) } function oe(e) { var n = e, t = pe(), r = se(), i = ce(); return !t || i ? n = S : !r || e != b || D.triggerOnTouchEnd && !D.triggerOnTouchLeave ? !r && e == E && D.triggerOnTouchLeave && (n = S) : n = E, n } function ae(e, n) { var t, r = e.touches; return ve() && we() || de() && fe() ? (ve() && we() && (t = ue(e, n, s)), de() && fe() && !1 !== t && (t = ue(e, n, c))) : me() && Se() && !1 !== t ? t = ue(e, n, h) : j > D.longTapThreshold && U < v && D.longTap && !1 !== t ? t = ue(e, n, f) : 1 !== V && m || !(isNaN(U) || U < D.threshold) || !Ee() || !1 === t || (t = ue(e, n, p)), n === S && (we() && (t = ue(e, n, s)), fe() && (t = ue(e, n, c)), re()), n === E && (r && r.length || re()), t } function ue(a, u, d) { var g; if (d == s) { if (Y.trigger("swipeStatus", [u, N || null, U || 0, j || 0, V, W]), D.swipeStatus && !1 === (g = D.swipeStatus.call(Y, a, u, N || null, U || 0, j || 0, V, W))) return !1; if (u == E && ge()) { if (Y.trigger("swipe", [N, U, j, V, W]), D.swipe && !1 === (g = D.swipe.call(Y, a, N, U, j, V, W))) return !1; switch (N) { case n: Y.trigger("swipeLeft", [N, U, j, V, W]), D.swipeLeft && (g = D.swipeLeft.call(Y, a, N, U, j, V, W)); break; case t: Y.trigger("swipeRight", [N, U, j, V, W]), D.swipeRight && (g = D.swipeRight.call(Y, a, N, U, j, V, W)); break; case r: Y.trigger("swipeUp", [N, U, j, V, W]), D.swipeUp && (g = D.swipeUp.call(Y, a, N, U, j, V, W)); break; case i: Y.trigger("swipeDown", [N, U, j, V, W]), D.swipeDown && (g = D.swipeDown.call(Y, a, N, U, j, V, W)) } } } if (d == c) { if (Y.trigger("pinchStatus", [u, F || null, C || 0, j || 0, V, Q, W]), D.pinchStatus && !1 === (g = D.pinchStatus.call(Y, a, u, F || null, C || 0, j || 0, V, Q, W))) return !1; if (u == E && he()) switch (F) { case l: Y.trigger("pinchIn", [F || null, C || 0, j || 0, V, Q, W]), D.pinchIn && (g = D.pinchIn.call(Y, a, F || null, C || 0, j || 0, V, Q, W)); break; case o: Y.trigger("pinchOut", [F || null, C || 0, j || 0, V, Q, W]), D.pinchOut && (g = D.pinchOut.call(Y, a, F || null, C || 0, j || 0, V, Q, W)) } } return d == p ? u !== S && u !== E || (clearTimeout(J), clearTimeout(K), Se() && !me() ? (B = Ae(), J = setTimeout(e.proxy(function () { B = null, Y.trigger("tap", [a.target]), D.tap && (g = D.tap.call(Y, a, a.target)) }, this), D.doubleTapThreshold)) : (B = null, Y.trigger("tap", [a.target]), D.tap && (g = D.tap.call(Y, a, a.target)))) : d == h ? u !== S && u !== E || (clearTimeout(J), B = null, Y.trigger("doubletap", [a.target]), D.doubleTap && (g = D.doubleTap.call(Y, a, a.target))) : d == f && (u !== S && u !== E || (clearTimeout(J), B = null, Y.trigger("longtap", [a.target]), D.longTap && (g = D.longTap.call(Y, a, a.target)))), g } function se() { var e = !0; return null !== D.threshold && (e = U >= D.threshold), e } function ce() { var e = !1; return null !== D.cancelThreshold && null !== N && (e = Pe(N) - U >= D.cancelThreshold), e } function pe() { return !D.maxTimeThreshold || !(j >= D.maxTimeThreshold) } function he() { var e = Te(), n = be(), t = null === D.pinchThreshold || C >= D.pinchThreshold; return e && n && t } function fe() { return !!(D.pinchStatus || D.pinchIn || D.pinchOut) } function de() { return !(!he() || !fe()) } function ge() { var e = pe(), n = se(), t = Te(), r = be(); return !ce() && r && t && n && e } function we() { return !!(D.swipe || D.swipeStatus || D.swipeLeft || D.swipeRight || D.swipeUp || D.swipeDown) } function ve() { return !(!ge() || !we()) } function Te() { return V === D.fingers || D.fingers === w || !m } function be() { return 0 !== W[0].end.x } function Ee() { return !!D.tap } function Se() { return !!D.doubleTap } function me() { if (null == B) return !1; var e = Ae(); return Se() && e - B <= D.doubleTapThreshold } function ye() { G = 0, Z = 0 } function Oe() { var e = !1; G && (Ae() - G <= D.fingerReleaseThreshold && (e = !0)); return e } function xe(e) { !0 === e ? (Y.bind(R, ne), Y.bind(k, te), A && Y.bind(A, ie)) : (Y.unbind(R, ne, !1), Y.unbind(k, te, !1), A && Y.unbind(A, ie, !1)), Y.data(x + "_intouch", !0 === e) } function Me(e, n) { var t = { start: { x: 0, y: 0 }, end: { x: 0, y: 0 } }; return t.start.x = t.end.x = n.pageX || n.clientX, t.start.y = t.end.y = n.pageY || n.clientY, W[e] = t, t } function De(e) { var n = void 0 !== e.identifier ? e.identifier : 0, t = function (e) { return W[e] || null }(n); return null === t && (t = Me(n, e)), t.end.x = e.pageX || e.clientX, t.end.y = e.pageY || e.clientY, t } function Pe(e) { if (X[e]) return X[e].distance } function Le(e) { return { direction: e, distance: 0 } } function Re() { return z - $ } function ke(e, n) { var t = Math.abs(e.x - n.x), r = Math.abs(e.y - n.y); return Math.round(Math.sqrt(t * t + r * r)) } function Ae() { return (new Date).getTime() } this.enable = function () { return Y.bind(L, ee), Y.bind(I, re), Y }, this.disable = function () { return le(), Y }, this.destroy = function () { le(), Y.data(x, null), Y = null }, this.option = function (n, t) { if ("object" == typeof n) D = e.extend(D, n); else if (void 0 !== D[n]) { if (void 0 === t) return D[n]; D[n] = t } else { if (!n) return D; e.error("Option " + n + " does not exist on jQuery.swipe.options") } return null } } e.fn.swipe = function (n) { var t = e(this), r = t.data(x); if (r && "string" == typeof n) { if (r[n]) return r[n].apply(this, Array.prototype.slice.call(arguments, 1)); e.error("Method " + n + " does not exist on jQuery.swipe") } else if (r && "object" == typeof n) r.option.apply(this, arguments); else if (!(r || "object" != typeof n && n)) return function (n) { !n || void 0 !== n.allowPageScroll || void 0 === n.swipe && void 0 === n.swipeStatus || (n.allowPageScroll = a); void 0 !== n.click && void 0 === n.tap && (n.tap = n.click); n || (n = {}); return n = e.extend({}, e.fn.swipe.defaults, n), this.each(function () { var t = e(this), r = t.data(x); r || (r = new M(this, n), t.data(x, r)) }) }.apply(this, arguments); return t }, e.fn.swipe.version = "1.6.12", e.fn.swipe.defaults = { fingers: 1, threshold: 75, cancelThreshold: null, pinchThreshold: 20, maxTimeThreshold: null, fingerReleaseThreshold: 250, longTapThreshold: 500, doubleTapThreshold: 200, swipe: null, swipeLeft: null, swipeRight: null, swipeUp: null, swipeDown: null, swipeStatus: null, pinchIn: null, pinchOut: null, pinchStatus: null, click: null, tap: null, doubleTap: null, longTap: null, hold: null, triggerOnTouchEnd: !0, triggerOnTouchLeave: !1, allowPageScroll: "auto", fallbackToMouseEvents: !0, excludedElements: "label, button, input, select, textarea, a, .noSwipe", preventDefaultEvents: !0 }, e.fn.swipe.phases = { PHASE_START: T, PHASE_MOVE: b, PHASE_END: E, PHASE_CANCEL: S }, e.fn.swipe.directions = { LEFT: n, RIGHT: t, UP: r, DOWN: i, IN: l, OUT: o }, e.fn.swipe.pageScroll = { NONE: a, HORIZONTAL: d, VERTICAL: g, AUTO: u }, e.fn.swipe.fingers = { ONE: 1, TWO: 2, THREE: 3, FOUR: 4, FIVE: 5, ALL: w } }), $(function () { $(".modal").swipe({ swipe: function (e, n, t, r, i, l) { "down" == n && $(".modal").modal("close") }, threshold: 0 }) });
